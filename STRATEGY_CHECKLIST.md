# STRATEGY_CHECKLIST.md
> Чек-лист уточнений для swing-стратегии (4H–1W) с ML-прогнозированием.  
> Заполняется перед началом активной разработки и бэктестов. Отмечайте галочками и дополняйте комментарии.

## 0) Статус документа
- [ ] Ответственный(ые): `@...`
- [ ] Дата последнего обновления: `YYYY-MM-DD`
- [ ] Версия: `v0.1`

---

## 1) Рынок и активы
- [ ] Список базовых активов (BTC, ETH, …). Комментарий:  
- [ ] Включаем mid/low cap? Критерии отбора (капитализация, объем):  
- [ ] Биржи для данных (источник) и исполнения (торговля):  
- [ ] Ликвидность на 4H–1W подтверждена (спрэды, объёмы, проскальзывание):  
- [ ] Валюта расчёта PnL (USDT, USD, BTC):  

## 2) Таймфреймы и режимы
- [ ] Основные ТФ: 4H / 1D / 1W. Комментарий:  
- [ ] Вспомогательные ТФ (1H/2H) для уточнения входа:  
- [ ] Правила определения рыночного режима (тренд/флэт/волатильность):  
- [ ] Пороговые значения смены режима (напр., ATR/MA/ADX):  

## 3) Данные
- [ ] Источник исторических свечей (API/провайдер):  
- [ ] Глубина истории (годы/месяцы) по каждому активу:  
- [ ] Очистка и нормализация данных (timezone, пропуски, дубликаты):  
- [ ] Корректировка на дилистинги/хардфорки/смены тикеров:  
- [ ] Проверка смещения (look-ahead bias, survivorship bias):  

## 4) Признаки (features)
- [ ] Технические индикаторы (EMA/RSI/ATR/объемы):  
- [ ] Свечные паттерны (конкретный список):  
- [ ] Волатильность (ATR/стд. отклонение/парки):  
- [ ] Кластеры объёмов (метод, окно, фичи):  
- [ ] Рыночный контекст (режимы):  
- [ ] Внешние фичи (sentiment/новости) — источник и частота:  
- [ ] Масштабирование/стандартизация признаков:  

## 5) Разметка целей (labels/targets)
- [ ] Тип задачи: классификация (long/short/flat) или регрессия (доходность/до цели):  
- [ ] Горизонт прогноза: `t+N баров`:  
- [ ] Метод построения таргета (напр., будущий доход > X, выход за порог):  
- [ ] Балансировка классов (undersampling/weights):  

## 6) Модель и обучение
- [ ] Базовые модели: XGBoost/LightGBM/Sklearn (какие именно):  
- [ ] Ensemble/stacking правила агрегации:  
- [ ] Валидация: walk-forward / purged K-fold:  
- [ ] Метрики: AUC/PRC/precision@k/expected value per trade:  
- [ ] Отбор фичей (feature importance/SHAP/перебор):  
- [ ] Частота переобучения (еженед./ежемес.):  

## 7) Логика сигналов и фильтров
- [ ] Порог вероятности/score для генерации сигнала:  
- [ ] Фильтры тренда/объема/новостей:  
- [ ] Дедупликация сигналов (cooldown, минимум расстояния по цене/времени):  
- [ ] Конфликтующие сигналы (что важнее — модель или фильтр):  

## 8) Риск-менеджмент
- [ ] Риск на сделку: `X%` от капитала:  
- [ ] Макс. число одновременных позиций:  
- [ ] Стоп-лосс: ATR/фикс/структурный (по свинг-минимумам):  
- [ ] Тейк-профит: фиксированный R:R / трейлинг / частичная фиксация:  
- [ ] Правила сокращения позиции при росте волатильности:  
- [ ] Недельный/дневной risk cap (лимит по убытку):  

## 9) Исполнение и инфраструктура
- [ ] Полуавтоматическое исполнение (ручное подтверждение) или авто?:  
- [ ] Биржевые лимиты/рейт-лимиты API учтены:  
- [ ] Учёт комиссий, проскальзывания, лотов:  
- [ ] Алёрты (Telegram/Slack/Email):  
- [ ] Логи: сигналы, решения, ордера, сделки:  

## 10) Бэктест и проверка устойчивости
- [ ] Период бэктеста и out-of-sample:  
- [ ] Walk-forward оптимизация:  
- [ ] Учёт комиссий и слиппеджа:  
- [ ] Монте‑Карло (рандомизация порядка сделок/возвратов):  
- [ ] Сравнение с Buy&Hold и базовыми правилами:  
- [ ] Метрики: CAGR, MaxDD, Sharpe, Sortino, hit rate, avg R:R:  
- [ ] Стат. значимость (p-value/bootstrapping):  

## 11) Мониторинг, адаптация и отчётность
- [ ] Еженедельный отчёт: winrate, EV/trade, Sharpe, exposure:  
- [ ] Условия переобучения модели (деградация метрик):  
- [ ] Дэшборд (Streamlit/Metabase/Grafana):  
- [ ] Алёрты по аномалиям (качество данных, сбои):  

## 12) Безопасность и регламент
- [ ] Хранение ключей API (.env/secret manager):  
- [ ] Ограничения прав (read-only для данных, trading keys отдельно):  
- [ ] Логи аудита действий:  
- [ ] Резервные планы (failover, отключение бота):  

## 13) План внедрения и критерии готовности (DoD)
- [ ] MVP-критерии: какие метрики должны быть достигнуты:  
- [ ] Порог рисков (макс. просадка) для допуска к paper-trading:  
- [ ] Порог для перехода к малому реальному объёму:  
- [ ] Чек “готовности к продакшену” (список контрольных пунктов):  

---

### Приложения
- [ ] Список активов и кодов тикеров:  
- [ ] Таблица фичей (описания, окна, формулы):  
- [ ] Схема пайплайна (data → features → model → signals → execution):  
- [ ] Источники данных и лимиты API:  

> Подпись ответственного: `_____________________`  Дата: `__________`
